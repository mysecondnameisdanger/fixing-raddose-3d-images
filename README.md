## Fixing the R script generated by RADDOSE-3D

This readme file provides a step-by-step guide to correct the `R script` generated by [`RADDOSE-3D`](https://github.com/GarmanGroup/RADDOSE-3D).

*Note: If no output name was specified when running `RADDOSE-3D`, then the default name will be `output-DoseState.R`. So, we will stick to that convention.*

## Prerequisites

Before running the script, ensure you have the required dependencies installed:

1. Install **Chromium** (if not already installed):
   ```sh
   sudo dnf install chromium
   ```
2. Install necessary R packages. Open a terminal, launch `R`, and install the following:
   ```r
   install.packages("rgl")
   install.packages("misc3d")
   install.packages("webshot2")
   ```

## The Fix

Run the following commands to modify `output-DoseState.R`:

```sh
# Replace rgl.viewpoint with view3d in the R script
sed -i 's/rgl.viewpoint/view3d/g' output-DoseState.R

# Replace rgl.snapshot with snapshot3d and include width and height parameters
sed -i 's/rgl.snapshot(\(.*\))/snapshot3d(\1, width = 800, height = 600)/' output-DoseState.R
```

## Running the R Script

After applying the fix, execute the `R` script.
Run it with:

```sh
R CMD BATCH output-DoseState.R
```

Five images in `PNG` format should be created after the last command. You should be able to view the images with any image viewer program.

## Important Advice

Always check the `contourlevels` inside `output-DoseState.R`. You may need to adjust them according to your specific case.
